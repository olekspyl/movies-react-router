"use strict";(self.webpackChunkmovies_react_router=self.webpackChunkmovies_react_router||[]).push([[547],{547:function(e,n,t){t.r(n),t.d(n,{default:function(){return h}});var r=t(439),u=t(791),o=t(87),c=t(689),i=t(263),a=t(634),s=t(184),l=function(e){var n=e.onSubmit,t=e.query,r=e.onQueryChange,u=e.onHandleClick;return(0,s.jsxs)(a.Yb,{children:[(0,s.jsx)("form",{onSubmit:n,children:(0,s.jsx)("label",{children:(0,s.jsx)(a.II,{type:"text",value:t,onChange:r})})}),(0,s.jsx)(a.zx,{type:"button",onClick:u,children:"Search"})]})},f=function(e){var n=e.movies,t=(0,c.TH)();return(0,s.jsx)(a.OM,{children:n.map((function(e){var n=e.id,r=e.title;return(0,s.jsx)(a.GK,{children:(0,s.jsx)(a.up,{to:"/movies/".concat(n),state:{from:t},children:r})},n)}))})},h=function(){var e=(0,u.useState)(""),n=(0,r.Z)(e,2),t=n[0],a=n[1],h=(0,u.useState)(!1),d=(0,r.Z)(h,2),v=d[0],x=d[1],j=(0,u.useState)([]),m=(0,r.Z)(j,2),y=m[0],p=m[1],b=(0,c.UO)().movieId,k=(0,o.lr)(),C=(0,r.Z)(k,2),S=(C[0],C[1]);(0,u.useEffect)((function(){v&&(i.Z.get("https://api.themoviedb.org/3/search/movie?api_key=022b72fb5c3086143a7c2d5ac5a186e1&query=".concat(t)).then((function(e){return p(e.data.results)})).catch((function(e){return console.log(e)})).finally((0,s.jsx)("p",{children:" Sorry, try another query"})),x(!1),a(""))}),[t,v]);var g=function(){x(!0),S({query:t})};return(0,s.jsxs)("div",{children:[b?(0,s.jsx)(c.j3,{}):(0,s.jsx)(l,{onQueryChange:function(e){a(e.target.value)},onHandleClick:g,onSubmit:function(e){e.preventDefault(),g()},query:t}),(0,s.jsx)(f,{movies:y})]})}}}]);
//# sourceMappingURL=547.ee753fe5.chunk.js.map